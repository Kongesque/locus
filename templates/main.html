{% extends 'base.html' %}

{% block content %}
<!-- Main Content -->
<main id="content"
    class="relative flex-1 flex items-center justify-center flex-col text-center mx-2 mt-1 mb-2 overflow-hidden bg-primary-color border border-primary-border rounded-md">

    <!-- Sidebar Toggle -->
    <button onclick="toggleSidebar()"
        class="absolute top-4 left-4 p-1 rounded-md hover:bg-sidebar-accent transition-colors">
        <img src="{{ url_for('static', filename='img/sidebar.svg') }}" class="w-4.5 h-4.5 invert opacity-80">
    </button>

    <div class="mb-4">
        <h1 class="text-3xl md:text-5xl font-bold text-sidebar-foreground tracking-tight leading-tight">
            What do you want to count?
        </h1>
    </div>

    <div class="flex items-center justify-center px-4">

        <form id="uploadForm" method='POST' enctype="multipart/form-data" hidden>
            {{ form.hidden_tag() }}
            <div class="custom-file">
                {{ form.file(class_="custom-file-input", id="fileInput", accept="video/*") }}
                <label class="custom-file-label" for="customFile">New Upload file</label>
            </div>
            <input id="dummy" type="submit" name="anything_submit" value="Submit" onclick="loading();" hidden>
        </form>

        <label for="input-file" id="drop-area"
            class="w-full max-w-[420px] p-8 md:p-10 text-center rounded-xl cursor-pointer transition-all duration-200 border border-dashed border-muted-foreground hover:border-sidebar-foreground hover:bg-sidebar-accent">
            <div id="file-view" class="flex flex-col items-center gap-4 md:gap-6">
                <div class="flex items-center gap-3">
                    <img src="{{ url_for('static', filename='img/upload.svg') }}" class="w-6 h-6 invert opacity-60">
                    <span class="text-sidebar-foreground font-medium">Choose Files</span>
                </div>
                <p class="text-sm text-muted-foreground">or drop it here</p>
                <div class="flex items-center gap-3">
                    <span
                        class="px-3 py-1 text-xs text-muted-foreground border border-muted-foreground rounded-full">.MP4</span>
                    <span
                        class="px-3 py-1 text-xs text-muted-foreground border border-muted-foreground rounded-full">.WebM</span>
                </div>
            </div>
        </label>

    </div>
</main>
{% endblock %}

{% block scripts %}
<script src="{{url_for('static', filename='script/main.js')}}"></script>
{% endblock %}